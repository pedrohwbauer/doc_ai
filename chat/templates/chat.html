{% extends "base.html" %} {% block "content" %}
<main class="content">
  <div class="container-fluid">
    <div class="row flex-fill">
      <div class="col-md-3 d-flex flex-column sidebar">
        message list
      </div>
      <div class="col-md-6 d-flex flex-column container p-0">
        <div class="card">
            <div id="message-list" class="chat-messages p-4">
              {% for message in messages %}
                {% if message.role == message.ASSISTANT %}
                  {% include "components/assistant_message.html" with content=message.content %}
                {% elif message.role == message.USER %}
                  {% include "components/user_message.html" with content=message.content %}
                {% endif %}
              {% endfor %}
            </div>
          <div class="flex-grow-0 py-3 px-4 border-top">
            <form id="send-form" hx-post="{% url "create-user-message" %}" hx-target="#message-list" hx-swap="beforeend">
              {% csrf_token %}
              <div class="input-group">
                <input
                  name="content"
                  type="text"
                  class="form-control"
                  placeholder="Type your message"
                />
                <button type="submit" class="btn btn-primary">Send</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="col-md-3 d-flex flex-column sidebar">
        <canvas id="pdf-canvas">

        </canvas>
      </div>
    </div>
  </div>
</main>
{% endblock %}
